<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rainng.coursesystem.dao.mapper.SignInMapper">
    <select id="listSignInRecordByStuId" resultType="StudentSigninItemVO">
        SELECT
            signin_id AS 'id',
            rc_course.course_name AS 'courseName',
            rc_teacher.teacher_name AS 'teacherName',
            location AS 'location',
            timestamp AS 'timeStamp',
            status AS 'status'
        FROM rc_signin_record
            LEFT JOIN rc_course  ON signin_course = rc_course.course_id
            LEFT JOIN rc_teacher  ON course_teacher_id = rc_teacher.teacher_id
        WHERE signin_student = #{id}

    </select>

    <select id="listSignInRecordByTeacherId" resultType="TeacherSigninItemVO">
        SELECT
            signin_id AS 'id',
            course_name AS 'courseName',
            course_location AS 'location',
            timestamp AS 'releaseTime'
        FROM rc_signin_record
            LEFT JOIN rc_course  ON signin_course = rc_course.course_id
            LEFT JOIN rc_teacher  ON course_teacher_id = rc_teacher.teacher_id
        WHERE rc_teacher.teacher_id = #{id}
    </select>
</mapper>
